;tangram.block(['$_/util/bool','$_/arr/','$_/math/easing','$_/dom/Animation'],function(pandora,global,imports,undefined){var _=pandora;var declare=pandora.declareClass;var query=_.dom.sizzle@boundary_1672_as_operator::_.dom.query;var insert=function(content,handler){switch(@boundary_1014_as_preoperator::content){case 'string':@boundary_1006_as_preoperator::this.each(function(){handler(this,content)}) case 'object':if(content.nodeType@boundary_273_as_operator::1@boundary_274_as_operator::this[0]){handler(this[0],content);@boundary_270_as_preoperator::this};if(content.lenth@boundary_783_as_operator::this.lenth){@boundary_779_as_preoperator::this.each(function(i){handler(this,content[i])})};break;case 'function':@boundary_1007_as_preoperator::this.each(function(i){handler(this,content(i))})}@boundary_1085_as_preoperator::this};var sizes=function(type,value,handler){switch(@boundary_797_as_preoperator::value){case 'string':case 'number':@boundary_785_as_preoperator::this.each(function(){_.dom.setStyle(this,type,value)}) case 'function':@boundary_786_as_preoperator::this.each(function(i){_.dom.setStyle(this,type,value(i,_.dom.getStyle(this,type)))}) case 'undefined':@boundary_787_as_preoperator::this[0]@boundary_791_as_operator::handler(this[0])}@boundary_1016_as_preoperator::this};var scroll_offset=function(type,value){if(_.util.bool.isNumeric(value)){@boundary_1105_as_preoperator::this.each(function(){_.dom.setStyle(this,type,value)})};if(_.util.bool.isFn(value)){@boundary_1110_as_preoperator::this.each(function(i){_.dom.setStyle(this,type,value(i,_.dom.getStyle(this,type)))})}@boundary_1317_as_preoperator::this[0]@boundary_1329_as_operator::_.dom.getStyle(this[0],type)};pandora.declareClass('dom.Elements',_.Iterator,{context:document,_init:function(selector,context){if(_.util.bool.isOuterHTML(selector)){this.isElFragment=true;this.context=context@boundary_1116_as_operator::this.context;Elements=_.dom.createByString(this.selector=selector) for(var i=0;i@boundary_313_as_operator::Elements.length;i@boundary_314_as_aftoperator::){this.push(Elements[i])}}@boundary_1644_as_preoperator::{this.selector=selector;this.context=context@boundary_1629_as_operator::this.context;var Elements=[]if(selector){switch(@boundary_1570_as_preoperator::(selector)){case 'string':Elements=query(selector,this.context) break;case 'object':switch(_.util.type(selector,true)){case 'HTMLDocument':case 'Global':case 'Element':Elements.push(arguments[0]) break;case 'Object':Elements=_.dom.query.byAttr(selector) break;case 'Elements':Elements=arguments[0]break;case 'Array':console.log(arguments[0]) for(var i=0;i@boundary_324_as_operator::arguments[0].length;i@boundary_325_as_aftoperator::){_.util.type(arguments[0][i])@boundary_318_as_operator::'Element'@boundary_319_as_operator::Elements.push(arguments[0][i])};break};break};for(var i=0;i@boundary_330_as_operator::Elements.length;i@boundary_331_as_aftoperator::){this.push(Elements[i])}}}},each:function(handler){for(var i=0;i@boundary_336_as_operator::this.length;i@boundary_337_as_aftoperator::){handler.call(this[i],i,this[i])}@boundary_799_as_preoperator::this},find:function(selector){var Elements=[]this.each(function(){Elements.push(query(selector,this))}) this.prevObject=this;this.splice(0,this.length) for(var i@boundary_801_as_operator::Elements){for(var j=0;j@boundary_348_as_operator::Elements[i].length;j@boundary_349_as_aftoperator::){this.push(Elements[i][j])}}@boundary_1018_as_preoperator::this},closet:function(tagName){var Elements=[]var node=void 0;this.each(function(){if(node=_.dom.closest(this,tagName)){Elements.push(node)}}) this.prevObject=this;this.splice(0,this.length) for(var i=0;i@boundary_354_as_operator::Elements.length;i@boundary_355_as_aftoperator::){this.push(Elements[i])}@boundary_1465_as_preoperator::this},get:function(n){if(@boundary_804_as_preoperator::n@boundary_805_as_operator::'number'){if(n@boundary_358_as_operator::0@boundary_359_as_operator::n@boundary_360_as_operator::this.length){@boundary_357_as_preoperator::this[n]}@boundary_803_as_preoperator::if(n@boundary_364_as_operator::0@boundary_365_as_operator::n@boundary_366_as_operator::this.length@boundary_363_as_operator::0){@boundary_362_as_preoperator::this[n@boundary_188_as_operator::this.length]}}@boundary_1026_as_preoperator::null},sub:function(part){var Elements=[]switch(@boundary_1038_as_preoperator::part){case 'number':this.get(part)@boundary_1033_as_operator::Elements.push(this.get(part)) break;case 'string':switch(part){case 'first':this[0]@boundary_809_as_operator::Elements.push(this[0]) break;case 'last':this[this.length@boundary_193_as_operator::1]@boundary_810_as_operator::Elements.push(this[this.length@boundary_195_as_operator::1]) break;case 'odd':for(var i=0;i@boundary_372_as_operator::part.length;i@boundary_371_as_operator::2){Elements.push(this[i])};break;case 'even':for(var i=1;i@boundary_378_as_operator::part.length;i@boundary_377_as_operator::2){Elements.push(this[i])};break};break;case 'object':if(part@boundary_819_as_operator::Array){part=_.unique(part) for(var i=0;i@boundary_390_as_operator::part.length;i@boundary_391_as_aftoperator::){this.get(part[i])@boundary_385_as_operator::Elements.push(this.get(part[i]))}};break};this.prevObject=this;this.splice(0,this.length) for(var i@boundary_396_as_operator::Elements){this.push(Elements[i])}@boundary_1087_as_preoperator::this},concat:function(selector,context){var res=query(selector,context@boundary_1474_as_operator::document) for(var i=0;i@boundary_1345_as_operator::res.length;i@boundary_1346_as_aftoperator::){if(_.arr.has(this,res[i])@boundary_1340_as_operator::false){this.push(res[i])}}@boundary_1473_as_preoperator::this},is:function(tagName,screen){switch(@boundary_1519_as_preoperator::tagName){case 'string':tagName=tagName.toUpperCase() switch(@boundary_1501_as_preoperator::screen){case 'boolean':if(screen){var list=[]this.each(function(){if(this.tagName.toUpperCase()@boundary_1349_as_operator::tagName){list.push(this)}}) @boundary_1478_as_preoperator::list};for(var i=0;i@boundary_1361_as_operator::this.length;i@boundary_1362_as_aftoperator::){if(this.tagName.toUpperCase()@boundary_1356_as_operator::tagName){@boundary_1142_as_preoperator::false}}@boundary_1499_as_preoperator::true;case 'number':if(this[screen]){@boundary_398_as_preoperator::this[screen].tagName.toUpperCase()@boundary_400_as_operator::tagName?true:false}@boundary_1500_as_preoperator::false}@boundary_1503_as_preoperator::this[0]@boundary_1513_as_operator::((this[0].tagName.toUpperCase()@boundary_1508_as_operator::tagName)?true:false) case 'boolean':if(tagName){var list=[]this.each(function(){list.push(this.tagName.toUpperCase())}) @boundary_821_as_preoperator::list};break;case 'number':@boundary_1504_as_preoperator::this[tagName]@boundary_1514_as_operator::this[tagName].tagName.toUpperCase()}@boundary_1521_as_preoperator::this[0]@boundary_1523_as_operator::this[0].tagName.toUpperCase()},append:function(content){switch(@boundary_1048_as_preoperator::content){case 'string':@boundary_1040_as_preoperator::this.each(function(){this.innerHTML@boundary_411_as_operator::content}) case 'function':@boundary_1041_as_preoperator::this.each(function(i){this.innerHTML@boundary_414_as_operator::content(i,this.innerHTML)}) case 'object':if(content.nodeType@boundary_826_as_operator::1){if(this[0]){this[0].appendChild(content)}}}@boundary_1092_as_preoperator::this},appendTo:function(selector){var parents=new _.dom.Elements(selector) if(this.isElFragment){var Elements=void 0;var that=this;that.length=0;parents.each(function(i,parent){console.log(parent) Elements=_.dom.createByString(that.selector,parent) for(var i=0;i@boundary_424_as_operator::Elements.length;i@boundary_425_as_aftoperator::){that.push(Elements[i])}}) @boundary_1050_as_preoperator::this};if(parents.length@boundary_836_as_operator::1){var node=this[0]while(node){parents[0].appendChild(node) node=this[0]}@boundary_835_as_preoperator::this}@boundary_1094_as_preoperator::this},remove:function(){this.each(function(){_.dom.remove(this)}) @boundary_838_as_preoperator::null},before:function(content){@boundary_435_as_preoperator::insert.call(this,content,_.dom.before)},after:function(content){@boundary_440_as_preoperator::insert.call(this,content,_.dom.after)},index:function(list){if(_.util.type.isElement(list)){@boundary_1144_as_preoperator::_.dom.index(list,this)}@boundary_1364_as_preoperator::_.dom.index(this[0],list)},parent:function(){var nodes=[]this.each(function(){nodes.push(this.parentNode)}) @boundary_843_as_preoperator::new _.dom.Elements(_.arr.unique(nodes))}});_.extend(_.dom,true,{select:function(selector,context){@boundary_449_as_preoperator::new _.dom.Elements(selector,context)}});pandora.ns('dom.select',{extend:function(object,rewrite){_.extend(_.dom.Elements.prototype,rewrite,object)}});pandora.extend(pandora.dom.Elements.prototype,{attr:function(attr,value){switch(@boundary_866_as_preoperator::value){case 'string':@boundary_853_as_preoperator::this.each(function(){_.dom.setAttr(this,attr,value)}) case 'function':@boundary_854_as_preoperator::this.each(function(i){_.dom.setAttr(this,attr,value(i,_.dom.getAttr(this,attr)))}) case 'undefined':@boundary_855_as_preoperator::this[0]@boundary_859_as_operator::_.dom.getAttr(this[0],attr)};this},removeAttr:function(attr){if(@boundary_871_as_preoperator::attr@boundary_872_as_operator::'string'){this.each(function(){_.dom.removeAttr(this,attr)})}@boundary_1056_as_preoperator::this},data:function(dataName,data){switch(@boundary_886_as_preoperator::data){case 'string':case 'number':this.each(function(index){_.dom.setData(this,dataName,_.util.bool.isFn(data)?data.call(this,index):data)}) break;case 'function':@boundary_874_as_preoperator::this.each(function(i){_.dom.setData(this,attr,data(i,_.dom.getAttr(this,dataName)))}) case 'undefined':@boundary_875_as_preoperator::this[0]@boundary_879_as_operator::_.dom.getData(this[0],dataName)}@boundary_1058_as_preoperator::this},html:function(nodeString){switch(@boundary_896_as_preoperator::nodeString){case 'string':case 'number':@boundary_888_as_preoperator::this.each(function(){this.innerHTML=nodeString}) case 'function':this.each(function(i){this.innerHTML=nodeString(i,this.innerHTML)}) case 'undefined':@boundary_889_as_preoperator::this[0]?this[0].innerHTML:''}@boundary_1060_as_preoperator::this},hasClass:function(className){@boundary_497_as_preoperator::this[0]@boundary_499_as_operator::_.dom.hasClass(this[0],className)},toggleClass:function(className,isSwitch){switch(@boundary_1068_as_preoperator::className){case 'string':this.each(function(){_.dom.toggleClass(this,className,isSwitch)}) break;case 'function':this.each(function(i,el){_.dom.toggleClass(this,className(i,_.dom.getAttr(el,'class')),isSwitch)}) break;case 'boolean':if(className@boundary_901_as_operator::false){this.each(function(i,el){_.dom.setAttr(this,'class','')})};break}@boundary_1098_as_preoperator::this},addClass:function(className){@boundary_520_as_preoperator::this.toggleClass(className,true)},removeClass:function(className){@boundary_525_as_preoperator::this.toggleClass(className,false)}});pandora.extend(pandora.dom.Elements.prototype,{css:function(style,value){if(@boundary_1073_as_preoperator::style@boundary_1074_as_operator::'object'){this.each(function(){pandora.each(style,function(prop,value){_.dom.setStyle(this,prop,value)},this)})}@boundary_1374_as_preoperator::{switch(@boundary_912_as_preoperator::value){case 'string':case 'number':@boundary_904_as_preoperator::this.each(function(){_.dom.setStyle(this,style,value)}) case 'function':@boundary_905_as_preoperator::this.each(function(i){_.dom.setStyle(this,style,value(i,_.dom.getStyle(this,style)))}) case 'undefined':if(@boundary_552_as_preoperator::style@boundary_553_as_operator::'string'){@boundary_547_as_preoperator::this[0]@boundary_549_as_operator::_.dom.getStyle(this[0],style)}}}@boundary_1375_as_preoperator::this},width:function(value){@boundary_555_as_preoperator::sizes.call(this,'width',value,_.dom.getWidth)},outerWidth:function(includeMargin){if(includeMargin){@boundary_560_as_preoperator::this[0]@boundary_562_as_operator::_.dom.getWidth(this[0],'box')}@boundary_914_as_preoperator::this[0]@boundary_916_as_operator::_.dom.getWidth(this[0],'outer')},innerWidth:function(){@boundary_566_as_preoperator::this[0]@boundary_568_as_operator::_.dom.getWidth(this[0],'inner')},height:function(value){@boundary_572_as_preoperator::sizes.call(this,'height',value,_.dom.getHeight)},outerHeight:function(includeMargin){if(includeMargin){@boundary_577_as_preoperator::this[0]@boundary_579_as_operator::_.dom.getHeight(this[0],'box')}@boundary_920_as_preoperator::this[0]@boundary_922_as_operator::_.dom.getHeight(this[0],'outer')},innerHeight:function(includeMargin){@boundary_583_as_preoperator::this[0]@boundary_585_as_operator::_.dom.getHeight(this[0],'inner')},scrollHeight:function(value){@boundary_589_as_preoperator::scroll_offset.call(this,'scrollHeight',value)},scrollLeft:function(value){@boundary_594_as_preoperator::scroll_offset.call(this,'scrollLeft',value)},scrollTop:function(value){@boundary_599_as_preoperator::scroll_offset.call(this,'scrollTop',value)},scrollWidth:function(value){@boundary_604_as_preoperator::scroll_offset.call(this,'scrollWidth',value)},offsetHeight:function(value){@boundary_609_as_preoperator::scroll_offset.call(this,'offsetHeight',value)},offsetLeft:function(value){@boundary_614_as_preoperator::scroll_offset.call(this,'offsetLeft',value)},offsetTop:function(value){@boundary_619_as_preoperator::scroll_offset.call(this,'offsetTop',value)},offsetWidth:function(value){@boundary_624_as_preoperator::scroll_offset.call(this,'offsetWidth',value)},offset:function(value){if(value){switch(@boundary_934_as_preoperator::value){case 'object':@boundary_926_as_preoperator::this.each(function(){_.dom.setStyle(this,'offsetTop',value.top) _.dom.setStyle(this,'offsetLeft',value.left)}) case 'function':@boundary_927_as_preoperator::this.each(function(i){var style=_.dom.getStyle(this) _.dom.setStyle(this,'offsetTop',value(i,style.offsetTop)) _.dom.setStyle(this,'offsetLeft',value(i,style.offsetLeft))})}};var style=this[0]?_.dom.getStyle(this[0]):{offsetTop:null,offsetLeft:null }@boundary_1153_as_preoperator::{top:style.offsetTop,left:style.offsetLeft }},widths:function(){var width=0;this.each(function(){width@boundary_651_as_operator::_.dom.getWidth(this,'box')}) @boundary_936_as_preoperator::width},heights:function(){var height=0;this.each(function(){height@boundary_656_as_operator::_.dom.getHeight(this,'box')}) @boundary_941_as_preoperator::height},show:function(){this.each(function(){_.dom.setStyle(this,'display','block')}) @boundary_946_as_preoperator::this},hide:function(){this.each(function(){_.dom.setStyle(this,'display','none')}) @boundary_951_as_preoperator::this}});pandora.extend(pandora.dom.Elements.prototype,{on:function(eventType,selector,data,handler){switch(arguments.length){case 3:handler=_.util.bool.isFn(data)?data:undefined;data=null;break;case 2:handler=_.util.bool.isFn(selector)?selector:undefined;selector=null;data=null;break};this.each(function(){if(_.util.bool.isArr(eventType)){pandora.each(eventType,function(i,et){_.dom.events.add(this,et,selector,data,handler)},this)}@boundary_1381_as_preoperator::{_.dom.events.add(this,eventType,selector,data,handler)}}) @boundary_1483_as_preoperator::this},off:function(eventType,selector,handler){this.each(function(){if(_.util.bool.isArr(eventType)){pandora.each(eventType,function(i,et){_.dom.events.remove(this,et,selector,handler)},this)}@boundary_1388_as_preoperator::{_.dom.events.remove(this,eventType,selector,handler)}}) @boundary_1488_as_preoperator::this},trigger:function(eventType,data){this.each(function(){_.dom.events.trigger(this,eventType,data)}) @boundary_956_as_preoperator::this},bind:function(eventType,data,handler){if(arguments.length@boundary_690_as_operator::2){handler=_.util.bool.isFn(data)?data:undefined;data=undefined}@boundary_961_as_preoperator::this.on(eventType,null,data,handler)},unbind:function(eventType,handler){@boundary_692_as_preoperator::this.off(eventType,null,handler)},mouseover:function(data,handler){@boundary_697_as_preoperator::this.bind('mouseover',data,handler)},mouseout:function(data,handler){@boundary_702_as_preoperator::this.bind('mouseout',data,handler)},hover:function(overCallback,outCallback){@boundary_707_as_preoperator::this.mouseover(overCallback).mouseout(outCallback@boundary_709_as_operator::overCallback)},mousedown:function(data,handler){@boundary_715_as_preoperator::this.bind('mousedown',data,handler)},mouseup:function(data,handler){@boundary_720_as_preoperator::this.bind('mouseup',data,handler)},mousemove:function(data,handler){this.bind('mousemove',data,handler)}});pandora.extend(pandora.dom.Elements.prototype,{val:function(value){if(@boundary_969_as_preoperator::value@boundary_971_as_operator::'string'|| @boundary_970_as_preoperator::value@boundary_972_as_operator::'number'){this.each(function(i,el){this.value=value})}@boundary_1455_as_preoperator::{if(this[0]){@boundary_730_as_preoperator::this[0].value}@boundary_1204_as_preoperator::null}@boundary_1456_as_preoperator::this}});_.dom.Animation.setTweens(_.math.easing.all);_.dom.select.extend({},true);_('dom.$',_.dom.select);@boundary_1667_as_preoperator::_.dom.select},true);