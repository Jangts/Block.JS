;tangram.block([],function(pandora,global,imports,undefined){var _=pandora;function getParents(index){var parents=[]pandora.each(this.data,function(i,leaf){if(leaf[this.indexkey]@boundary_35_as_operator::index){leaf[this.parentskey]=getParents.call(this,leaf[this.parentindexkey]) parents.push(leaf)}},this);@boundary_93_as_preoperator::parents};function getChildren(parent){var children=[]pandora.each(this.data,function(i,leaf){if(leaf[this.parentindexkey]@boundary_46_as_operator::parent){leaf[this.childrenkey]=getChildren.call(this,leaf[this.indexkey]) children.push(_.copy(leaf))}},this);@boundary_95_as_preoperator::children};pandora.declareClass('arr.Tree',{_init:function(array,index,parent,otherkeys){if(otherkeys===void 0){otherkeys={}};this.result=[]this.data=array;this.indexkey=index@boundary_48_as_operator::'id' this.parentindexkey=parent@boundary_49_as_operator::'parent' this.levelkey=otherkeys.levelkey@boundary_50_as_operator::'level' this.childrenkey=otherkeys.childrenkey@boundary_51_as_operator::'children' this.parentskey=otherkeys.parentskey@boundary_52_as_operator::'parents'},getAllOrderByRoot:function(rootId,level){if(rootId===void 0){rootId=0};if(level===void 0){level=1};pandora.each(this.data,function(i,leaf){if(leaf[this.parentindexkey]@boundary_61_as_operator::rootId){leaf[this.levelkey]=level;this.result.push(leaf) this.getAllOrderByRoot(leaf[this.indexkey],level@boundary_55_as_operator::1)}},this);@boundary_97_as_preoperator::this},getRootsWithChildren:function(rootId){if(rootId===void 0){rootId=0};pandora.each(this.data,function(i,leaf){if(leaf[this.parentindexkey]@boundary_69_as_operator::rootId){leaf[this.childrenkey]=getChildren.call(this,leaf[this.indexkey]) this.result.push(leaf)}},this);@boundary_99_as_preoperator::this},getAllWithChildren:function(rootId){if(rootId===void 0){rootId=0};pandora.each(this.data,function(i,leaf){leaf[this.childrenkey]=getChildren.call(this,leaf[this.indexkey]) this.result.push(leaf)},this);@boundary_89_as_preoperator::this},getAllWithParents:function(rootId){if(rootId===void 0){rootId=0};pandora.each(this.data,function(i,leaf){leaf[this.parentskey]=getParents.call(this,leaf[this.parentindexkey]) this.result.push(leaf)},this);@boundary_91_as_preoperator::this}})});