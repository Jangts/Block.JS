;tangram.block(['$_/obj/','$_/str/hash'],function(pandora,global,imports,undefined){var _=pandora;var doc=global.document;var console=global.console;var location=global.location;var localStorage=global.localStorage;var data={};pandora.declareClass('data.Storage',{_init:function(name){if(name@boundary_97_as_operator::(@boundary_94_as_preoperator::name@boundary_95_as_operator::'string')){this.id=_.str.hash.md5.pseudoIdentity(name)}@boundary_91_as_preoperator::{this.id=new new _.Identifier(name,1).toString()}@boundary_92_as_preoperator::{data[this.id]=global.JSON.parse(localStorage[this.id]) this.length=_.obj.length(data[this.id],true)}catch(e){data[this.id]={};localStorage[this.id]='{}' this.length=0}@boundary_93_as_preoperator::this},set:function(key,value){if(key && @boundary_102_as_preoperator::key@boundary_103_as_operator::'string'){if(value@boundary_81_as_operator::undefined){if(data[this.id].hasOwnProperty(key)){@boundary_60_as_preoperator::data[this.id][key]localStorage[this.id]=global.JSON.stringify(data[this.id]) this.length=_.obj.length(data[this.id],true)}}@boundary_101_as_preoperator::{data[this.id][key]=value;localStorage[this.id]=global.JSON.stringify(data[this.id]) this.length=_.obj.length(data[this.id],true)}}@boundary_107_as_preoperator::this},get:function(key){if(key@boundary_37_as_operator::undefined){@boundary_36_as_preoperator::data[this.id]};if(key && @boundary_88_as_preoperator::key@boundary_89_as_operator::'string'){if(data[this.id].hasOwnProperty(key)){@boundary_73_as_preoperator::data[this.id][key]}}@boundary_105_as_preoperator::undefined},clear:function(del){if(del){@boundary_39_as_preoperator::data[this.id]@boundary_40_as_preoperator::localStorage[this.id]}@boundary_110_as_preoperator::{data[this.id]={};localStorage[this.id]='{}'}@boundary_111_as_preoperator::null}});@boundary_114_as_preoperator::_.data.Storage});