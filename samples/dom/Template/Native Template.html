<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Block.JS TEMPLATE</title>
    <script src="../../../src/iBlock.js" data-use-debugmode></script>
</head>

<body>
    <div id="view"></div>
    <script id="template" type="text/template">
        <table width="360" border="1" cellspacing="1" cellpadding="1">
            <tr>
                <td>
                    <%echo(this.data.greeting);%>,
                        <%echo(this.data.name);%>
                </td>
                <%var arr = [1, 2, 3, 4, 5, 6, 7]; for(var i = 0; i < arr.length; i++){%>
                    <td>
                        <%=arr[i]%>
                    </td>
                    <%}%>
            </tr>
        </table>
    </script>
    <script>
        block([
            '$_/dom/Template.Cls'
        ], function(_, global, undefined) {
            var document = global.document;
            var view = document.getElementById('view');
            var template = document.getElementById('template').innerHTML;
            var temp = new _.dom.Template(template, {
                greeting: 'Hello',
                name: 'Block.JS',
            });
            view.innerHTML = temp.echo();
            console.log(temp);
        }, true);
    </script>
</body>

</html>