<!DOCTYPE html>

<html lang="en-us">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tangram.js syntax highlighting for js</title>
    <script src="../../../src/tangram.js"></script>

</head>

<body style="font-size:0.875em;">
    <pre>
<code data-language="javascript">/**
 * test function
 *
 * @param string
 * @return string
 */
function blah(foo, blah) {
    var test = 25;

    console.log(test.length);

    // if foo is true then return this string
    if (foo === true) {
        return 'foo is true';
    }
    return 'foo is false';
}

$(document).ready(function() {
    $("table").on("click", "td", function() {
        console.log('td click');
    });
});
</code>
</pre>
    <pre>
<code data-language="javascript">window.Rainbow = {
    whatever: function(param) {

    },

    another: function(param) {

    }
};</code>
</pre>
    <pre>
<code data-language="javascript">window.Rainbow = window.Rainbow || {};

Rainbow.extend('javascript', [
    {
        'name': 'selector',
        'pattern': /\$(?=\.|\()/g
    }
]);</code>
</pre>
    <pre>
<code data-language="javascript"  class="language-javascript">/**
 * cross browser get attribute for an element
 *
 * @see http://stackoverflow.com/questions/3755227/cross-browser-javascript-getattribute-method
 *
 * @param {Element} el
 * @param {String} attr     attribute you are trying to get
 * @returns {String}
 */
function _attr(el, attr) {
    var result = (el.getAttribute &amp;&amp; el.getAttribute(attr)) || null;

    if (!result) {
        var attrs = el.attributes,
            length = attrs.length,
            i;

        for (i = 0; i &lt; length; ++i) {
            if (attr[i].nodeName === attr) {
                result = attr[i].nodeValue;
            }
        }
    }

    return result;
}</code>
</pre>
    <script>
        /* 本测试主要测试如下 */
        /*
         * 1. 从语句块的可用性；
         * 2. 使用load加载okaidia样式并调用see.highlight.rendertAll；
         * 3. 使用see.highlight.renderAll渲染javascript代码；
         */
        tangram.block(['$_/see/highlight/languages/javascript.xtd'], function (_, global, undefined) {
            _.load('../../../src/see/highlight/themes/okaidia.css', _.see.highlight.renderAll, null, 'css');
        }, true);
    </script>
</body>

</html>