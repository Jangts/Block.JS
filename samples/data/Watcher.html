<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Tangram.JS WATCHER</title>
    <script src="../../src/tangram.js" data-use-debugmode></script>
    <style>
        .form {
            margin: 20px auto;
            text-align: center;
        }
    </style>
</head>

<body>
    <script>
        tangram.block([
            '$_/data/Observer/',
        ], function(_, global, undefined) {
            var document = global.document,
                observe = _.data.observe,
                watch = _.data.watch;

            var observer = observe({
                name: 'YangRAM',
                type: 'Computer Software',
                time: 2017,
                attrs: {
                    lang: 'PHP',
                    framework: 'TNI'
                }
            });

            observer.listen('name', function() {
                console.log('You wrote name, ');
            }, function() {
                console.log('You read name');
            });

            observer.listen('name', function() {
                console.log('new name is ' + this.name);
            });

            observer.data.attrs._observer.listen('lang', function() {
                console.log('new lang is ' + this.lang);
            });

            console.log(observer.data.name);

            observer.silently = true;
            observer.data.name = 'YangRAM Adam';
            console.log(observer.data.name);
            observer.silently = false

            observer.data.name = 'YangRAM Noah';

            observer.data.name = 'YangRAM Abraham';

            observer.data.name = 'YangRAM Moses';

            observer.data.attrs.lang = 'Javascricpt';
        }, true);
    </script>
</body>

</html>